{"ast":null,"code":"var _jsxFileName = \"D:\\\\Takina\\\\Computer Design\\\\\\u542C\\u58F0\\u65E0\\u6059\\\\frontend\\\\src\\\\components\\\\Register.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TOTAL_RECORDINGS = 3; // 总共需要录制的段数\n\nconst Register = ({\n  onRegisterSuccess\n}) => {\n  _s();\n  const [username, setUsername] = useState('');\n  const [randomDigits, setRandomDigits] = useState('');\n  const [isRecording, setIsRecording] = useState(false);\n  const [recordingTime, setRecordingTime] = useState(0);\n  const [isEnrolling, setIsEnrolling] = useState(false);\n  const [enrollmentProgress, setEnrollmentProgress] = useState(0);\n  const [recordingsDone, setRecordingsDone] = useState(0); // 已完成录音段数\n  const [transientMessage, setTransientMessage] = useState(null); // 临时消息\n  const timerRef = useRef(null);\n  const progressRef = useRef(null);\n  const messageTimerRef = useRef(null);\n\n  // 清理状态的副作用\n  useEffect(() => {\n    return () => {\n      if (timerRef.current) clearInterval(timerRef.current);\n      if (progressRef.current) clearInterval(progressRef.current);\n      if (messageTimerRef.current) clearTimeout(messageTimerRef.current);\n    };\n  }, []);\n  const showTemporaryMessage = (message, duration = 1500) => {\n    setTransientMessage(message);\n    if (messageTimerRef.current) clearTimeout(messageTimerRef.current);\n    messageTimerRef.current = window.setTimeout(() => {\n      setTransientMessage(null);\n    }, duration);\n  };\n  const generateRandomDigits = () => {\n    let digits = '';\n    for (let i = 0; i < 8; i++) {\n      digits += Math.floor(Math.random() * 10);\n    }\n    return digits;\n  };\n  const handleStart = () => {\n    if (!username) {\n      alert('请输入用户名');\n      return;\n    }\n    setTransientMessage(null); // 清除临时消息\n    setRandomDigits(generateRandomDigits());\n    setIsRecording(true);\n    setRecordingTime(0);\n    // isEnrolling 和 enrollmentProgress 在最后一段完成后设置\n\n    timerRef.current = window.setInterval(() => {\n      setRecordingTime(prev => {\n        if (prev >= 5) {\n          // 假设每段最多录5秒\n          handleStop();\n          return 5;\n        }\n        return prev + 1;\n      });\n    }, 1000);\n  };\n  const handleStop = () => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n      timerRef.current = null;\n    }\n    setIsRecording(false);\n    const currentRecordingsDone = recordingsDone + 1;\n    setRecordingsDone(currentRecordingsDone);\n    if (currentRecordingsDone < TOTAL_RECORDINGS) {\n      // 还未完成所有录音\n      showTemporaryMessage(`第 ${currentRecordingsDone} 段录音完成!`);\n      setRandomDigits(''); // 清除数字，等待下一次开始\n    } else {\n      // 所有录音完成，开始处理注册\n      setIsEnrolling(true);\n      setEnrollmentProgress(0);\n      progressRef.current = window.setInterval(() => {\n        setEnrollmentProgress(prev => {\n          const nextProgress = prev + 20;\n          if (nextProgress >= 100) {\n            if (progressRef.current) {\n              clearInterval(progressRef.current);\n              progressRef.current = null;\n            }\n            setTimeout(() => {\n              setIsEnrolling(false);\n              // 不再显示 alert\n              onRegisterSuccess(username);\n            }, 300);\n            return 100;\n          }\n          return nextProgress;\n        });\n      }, 300);\n    }\n  };\n  const isRegistrationComplete = recordingsDone >= TOTAL_RECORDINGS;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6 p-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"reg-username\",\n        type: \"text\",\n        className: \"block w-full px-2.5 pb-2.5 pt-4 text-sm text-gray-900 bg-transparent rounded-lg border border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer disabled:text-gray-500 disabled:border-gray-200\",\n        value: username,\n        onChange: e => setUsername(e.target.value),\n        disabled: isRecording || isEnrolling || recordingsDone > 0,\n        placeholder: \" \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"reg-username\",\n        className: `absolute text-sm ${recordingsDone > 0 ? 'text-gray-400' : 'text-gray-500'} duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-gray-100 px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto start-1`,\n        children: \"\\u7528\\u6237\\u540D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), !isEnrolling && !isRegistrationComplete && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [randomDigits && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 bg-blue-50 rounded-lg text-center border border-blue-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm font-medium text-blue-800\",\n          children: [\"\\u8BF7\\u6717\\u8BFB\\u4EE5\\u4E0B\\u6570\\u5B57 (\\u7B2C \", recordingsDone + 1, \"/\", TOTAL_RECORDINGS, \" \\u6BB5):\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-3xl font-bold tracking-wider my-2 text-blue-900\",\n          children: randomDigits\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }, this), isRecording && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-sm text-red-600\",\n        children: [\"\\u5F55\\u97F3\\u4E2D... \", recordingTime, \" / 5 \\u79D2\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 14\n      }, this), transientMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-2 bg-green-100 text-green-700 rounded-lg text-center text-sm\",\n        children: transientMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pt-2\",\n        children: !isRecording ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"w-full py-3 px-4 bg-blue-600 text-white rounded-md shadow hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:bg-gray-400 disabled:shadow-none font-medium uppercase tracking-wider text-sm\",\n          onClick: handleStart\n          // 只有在非录音/非注册中，且用户名非空时才可点击\n          ,\n          disabled: isRecording || isEnrolling || !username || transientMessage !== null,\n          children: [\"\\u5F00\\u59CB\\u5F55\\u5236\\u7B2C \", recordingsDone + 1, \" \\u6BB5\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"w-full py-3 px-4 bg-red-600 text-white rounded-md shadow hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 font-medium uppercase tracking-wider text-sm\",\n          onClick: handleStop,\n          children: \"\\u505C\\u6B62\\u5F55\\u97F3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), isEnrolling && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2 pt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center font-medium text-gray-700 text-sm\",\n          children: \"\\u6240\\u6709\\u5F55\\u97F3\\u5B8C\\u6210\\uFF0C\\u6B63\\u5728\\u5904\\u7406\\u6CE8\\u518C...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full bg-gray-200 rounded-full h-1.5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-600 h-1.5 rounded-full transition-all duration-300 ease-linear\",\n            style: {\n              width: `${enrollmentProgress}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500 text-center\",\n          children: [enrollmentProgress, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }, this)\n    }, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n};\n_s(Register, \"U95x1kDF8XUnMxkAMJMFgiOITUc=\");\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","TOTAL_RECORDINGS","Register","onRegisterSuccess","_s","username","setUsername","randomDigits","setRandomDigits","isRecording","setIsRecording","recordingTime","setRecordingTime","isEnrolling","setIsEnrolling","enrollmentProgress","setEnrollmentProgress","recordingsDone","setRecordingsDone","transientMessage","setTransientMessage","timerRef","progressRef","messageTimerRef","current","clearInterval","clearTimeout","showTemporaryMessage","message","duration","window","setTimeout","generateRandomDigits","digits","i","Math","floor","random","handleStart","alert","setInterval","prev","handleStop","currentRecordingsDone","nextProgress","isRegistrationComplete","className","children","id","type","value","onChange","e","target","disabled","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","onClick","style","width","_c","$RefreshReg$"],"sources":["D:/Takina/Computer Design/听声无恙/frontend/src/components/Register.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\n\r\ninterface RegisterProps {\r\n  onRegisterSuccess: (username: string) => void;\r\n}\r\n\r\nconst TOTAL_RECORDINGS = 3; // 总共需要录制的段数\r\n\r\nconst Register: React.FC<RegisterProps> = ({ onRegisterSuccess }) => {\r\n  const [username, setUsername] = useState('');\r\n  const [randomDigits, setRandomDigits] = useState('');\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [recordingTime, setRecordingTime] = useState(0);\r\n  const [isEnrolling, setIsEnrolling] = useState(false);\r\n  const [enrollmentProgress, setEnrollmentProgress] = useState(0);\r\n  const [recordingsDone, setRecordingsDone] = useState(0); // 已完成录音段数\r\n  const [transientMessage, setTransientMessage] = useState<string | null>(null); // 临时消息\r\n  const timerRef = useRef<number | null>(null);\r\n  const progressRef = useRef<number | null>(null);\r\n  const messageTimerRef = useRef<number | null>(null);\r\n\r\n  // 清理状态的副作用\r\n  useEffect(() => {\r\n    return () => {\r\n      if (timerRef.current) clearInterval(timerRef.current);\r\n      if (progressRef.current) clearInterval(progressRef.current);\r\n      if (messageTimerRef.current) clearTimeout(messageTimerRef.current);\r\n    };\r\n  }, []);\r\n\r\n  const showTemporaryMessage = (message: string, duration: number = 1500) => {\r\n      setTransientMessage(message);\r\n      if (messageTimerRef.current) clearTimeout(messageTimerRef.current);\r\n      messageTimerRef.current = window.setTimeout(() => {\r\n          setTransientMessage(null);\r\n      }, duration);\r\n  }\r\n\r\n  const generateRandomDigits = () => {\r\n    let digits = '';\r\n    for (let i = 0; i < 8; i++) {\r\n      digits += Math.floor(Math.random() * 10);\r\n    }\r\n    return digits;\r\n  };\r\n\r\n  const handleStart = () => {\r\n    if (!username) {\r\n      alert('请输入用户名');\r\n      return;\r\n    }\r\n    setTransientMessage(null); // 清除临时消息\r\n    setRandomDigits(generateRandomDigits());\r\n    setIsRecording(true);\r\n    setRecordingTime(0);\r\n    // isEnrolling 和 enrollmentProgress 在最后一段完成后设置\r\n\r\n    timerRef.current = window.setInterval(() => {\r\n       setRecordingTime(prev => {\r\n        if (prev >= 5) { // 假设每段最多录5秒\r\n           handleStop();\r\n           return 5;\r\n        }\r\n        return prev + 1;\r\n      });\r\n    }, 1000);\r\n  };\r\n\r\n  const handleStop = () => {\r\n    if (timerRef.current) {\r\n      clearInterval(timerRef.current);\r\n      timerRef.current = null;\r\n    }\r\n    setIsRecording(false);\r\n    const currentRecordingsDone = recordingsDone + 1;\r\n    setRecordingsDone(currentRecordingsDone);\r\n\r\n    if (currentRecordingsDone < TOTAL_RECORDINGS) {\r\n        // 还未完成所有录音\r\n        showTemporaryMessage(`第 ${currentRecordingsDone} 段录音完成!`);\r\n        setRandomDigits(''); // 清除数字，等待下一次开始\r\n    } else {\r\n        // 所有录音完成，开始处理注册\r\n        setIsEnrolling(true);\r\n        setEnrollmentProgress(0);\r\n\r\n        progressRef.current = window.setInterval(() => {\r\n          setEnrollmentProgress(prev => {\r\n            const nextProgress = prev + 20;\r\n            if (nextProgress >= 100) {\r\n              if (progressRef.current) {\r\n                clearInterval(progressRef.current);\r\n                progressRef.current = null;\r\n              }\r\n              setTimeout(() => {\r\n                setIsEnrolling(false);\r\n                // 不再显示 alert\r\n                onRegisterSuccess(username);\r\n              }, 300);\r\n              return 100;\r\n            }\r\n            return nextProgress;\r\n          });\r\n        }, 300);\r\n    }\r\n  };\r\n\r\n  const isRegistrationComplete = recordingsDone >= TOTAL_RECORDINGS;\r\n\r\n  return (\r\n    <div className=\"space-y-6 p-2\">\r\n      {/* 用户名输入框 (仅在开始前可编辑) */}\r\n      <div className=\"relative\">\r\n        <input\r\n          id=\"reg-username\"\r\n          type=\"text\"\r\n          className=\"block w-full px-2.5 pb-2.5 pt-4 text-sm text-gray-900 bg-transparent rounded-lg border border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer disabled:text-gray-500 disabled:border-gray-200\"\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n          disabled={isRecording || isEnrolling || recordingsDone > 0}\r\n          placeholder=\" \"\r\n        />\r\n        <label \r\n           htmlFor=\"reg-username\"\r\n           className={`absolute text-sm ${recordingsDone > 0 ? 'text-gray-400' : 'text-gray-500'} duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-gray-100 px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto start-1`}\r\n         >用户名</label>\r\n      </div>\r\n      \r\n      {/* 注册进度或操作区域 */}\r\n      {!isEnrolling && !isRegistrationComplete && (\r\n        <>\r\n          {/* 数字显示区域 */}\r\n          {randomDigits && (\r\n            <div className=\"p-4 bg-blue-50 rounded-lg text-center border border-blue-200\">\r\n              <p className=\"text-sm font-medium text-blue-800\">\r\n                  请朗读以下数字 (第 {recordingsDone + 1}/{TOTAL_RECORDINGS} 段):\r\n              </p>\r\n              <p className=\"text-3xl font-bold tracking-wider my-2 text-blue-900\">{randomDigits}</p>\r\n            </div>\r\n          )}\r\n          \r\n          {/* 录音状态 */}\r\n          {isRecording && (\r\n             <div className=\"text-center text-sm text-red-600\">\r\n                录音中... {recordingTime} / 5 秒\r\n             </div>\r\n          )}\r\n\r\n          {/* 临时消息 */} \r\n          {transientMessage && (\r\n             <div className=\"p-2 bg-green-100 text-green-700 rounded-lg text-center text-sm\">\r\n                 {transientMessage}\r\n             </div>\r\n          )}\r\n          \r\n          {/* 操作按钮 */}\r\n          <div className=\"pt-2\">\r\n            {!isRecording ? (\r\n              <button\r\n                className=\"w-full py-3 px-4 bg-blue-600 text-white rounded-md shadow hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:bg-gray-400 disabled:shadow-none font-medium uppercase tracking-wider text-sm\"\r\n                onClick={handleStart}\r\n                // 只有在非录音/非注册中，且用户名非空时才可点击\r\n                disabled={isRecording || isEnrolling || !username || transientMessage !== null}\r\n              >\r\n                开始录制第 {recordingsDone + 1} 段\r\n              </button>\r\n            ) : (\r\n              <button\r\n                className=\"w-full py-3 px-4 bg-red-600 text-white rounded-md shadow hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 font-medium uppercase tracking-wider text-sm\"\r\n                onClick={handleStop}\r\n              >\r\n                停止录音\r\n              </button>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {/* 最终注册处理进度条 */}\r\n      {isEnrolling && (\r\n        <>\r\n          <div className=\"space-y-2 pt-4\">\r\n            <p className=\"text-center font-medium text-gray-700 text-sm\">所有录音完成，正在处理注册...</p>\r\n            <div className=\"w-full bg-gray-200 rounded-full h-1.5\">\r\n              <div \r\n                className=\"bg-blue-600 h-1.5 rounded-full transition-all duration-300 ease-linear\" \r\n                style={{ width: `${enrollmentProgress}%` }}\r\n              ></div>\r\n            </div>\r\n            <p className=\"text-xs text-gray-500 text-center\">{enrollmentProgress}%</p>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}